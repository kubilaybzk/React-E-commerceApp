{"ast":null,"code":"import { LOAD_PRODUCTS, SET_LISTVIEW, SET_GRIDVIEW, UPDATE_SORT, SORT_PRODUCTS, UPDATE_FILTERS, FILTER_PRODUCTS, CLEAR_FILTERS } from \"../actions\";\n\nconst filter_reducer = (state, action) => {\n  if (action.type === LOAD_PRODUCTS) {\n    let maxPrice = action.payload.map(p => p.price);\n    maxPrice = Math.max(...maxPrice); //Burada gelen ürünler arasında max fiyatı buluyoruz.\n\n    /*Bunu yapmamızdaki amaç \n        öncelikle ürünleri sıralarken çıkan bütün ürünleri göstermek için default olan değere \n        max ücreti ekliyoruz.    \n    */\n\n    return { ...state,\n      all_products: [...action.payload],\n      filtered_products: [...action.payload],\n      filters: { ...state.filters,\n        max_price: maxPrice,\n        price: maxPrice\n      }\n    };\n  } //Product List sayfasında  grid_view değerine göre listeleme şekli düzenleniyor.\n\n  /* Bunu aşağıda bulunan iki fonksiyon sağlıyor \n   */\n\n\n  if (action.type === \"SET_LISTVIEW\") {\n    //Eğer kullanıcı listele butonuna basarsa bu fonskiyon çalışacak.\n    //Product List sayfasında  grid_view değerine göre listeleme şekli düzenleniyor.\n    return { ...state,\n      grid_view: false\n    };\n  }\n\n  if (action.type === \"SET_GRIDVIEW\") {\n    //Eğer kullanıcı grid olarak göster butonuna basarsa bu fonksiyon çalışcak.\n    return { ...state,\n      grid_view: true\n    };\n  }\n\n  if (action.type === \"UPDATE_SORT\") {\n    //console.log(\"değer\")\n    //console.log(action.payload)\n\n    /*Burada kullanıcının seçtiği değeri alıyoruz.\n    const updateSort=(e)=>{} fonksiyonundan gelen değeri burada atıyoruz\n    sort hookuna aktarıyoruz.\n    */\n    return { ...state,\n      sort: action.payload\n    };\n  }\n\n  if (action.type === SORT_PRODUCTS) {\n    /*Burda   if(action.type==='UPDATE_SORT'){} kısmında sort değişkenine atanan değere göre \n    Listede bulunan elemanlara\n          sıralama yapılmasını sağlıyoruz.\n     */\n    const {\n      sort,\n      filtered_products\n    } = state;\n    let tempProducts = [...filtered_products];\n\n    if (sort === \"price-lowest\") {\n      tempProducts = tempProducts.sort((a, b) => {\n        if (a.price < b.price) {\n          return -1;\n        }\n\n        if (a.price > b.price) {\n          return 1;\n        }\n\n        return 0;\n      });\n    }\n\n    if (sort === \"price-highest\") {\n      tempProducts = tempProducts.sort((a, b) => b.price - a.price);\n    }\n\n    if (sort === \"name-a\") {\n      tempProducts = tempProducts.sort((a, b) => {\n        return a.name.localeCompare(b.name);\n      });\n    }\n\n    if (sort === \"name-z\") {\n      tempProducts = tempProducts.sort((a, b) => {\n        return b.name.localeCompare(a.name);\n      });\n    }\n\n    return { ...state,\n      filtered_products: tempProducts\n    };\n  }\n\n  return state;\n  throw new Error(`No Matching \"${action.type}\" - action type`);\n};\n\nexport default filter_reducer;","map":{"version":3,"sources":["/home/kbly/Masaüstü/React-E-commerceApp/src/reducers/filter_reducer.js"],"names":["LOAD_PRODUCTS","SET_LISTVIEW","SET_GRIDVIEW","UPDATE_SORT","SORT_PRODUCTS","UPDATE_FILTERS","FILTER_PRODUCTS","CLEAR_FILTERS","filter_reducer","state","action","type","maxPrice","payload","map","p","price","Math","max","all_products","filtered_products","filters","max_price","grid_view","sort","tempProducts","a","b","name","localeCompare","Error"],"mappings":"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","sourcesContent":["import {\n  LOAD_PRODUCTS,\n  SET_LISTVIEW,\n  SET_GRIDVIEW,\n  UPDATE_SORT,\n  SORT_PRODUCTS,\n  UPDATE_FILTERS,\n  FILTER_PRODUCTS,\n  CLEAR_FILTERS,\n} from \"../actions\";\n\nconst filter_reducer = (state, action) => {\n  if (action.type === LOAD_PRODUCTS) {\n    let maxPrice = action.payload.map((p) => p.price);\n    maxPrice = Math.max(...maxPrice);//Burada gelen ürünler arasında max fiyatı buluyoruz.\n    /*Bunu yapmamızdaki amaç \n        öncelikle ürünleri sıralarken çıkan bütün ürünleri göstermek için default olan değere \n        max ücreti ekliyoruz.    \n    */\n    return {\n      ...state,\n      all_products: [...action.payload],\n      filtered_products: [...action.payload],\n      filters: { ...state.filters, max_price: maxPrice, price: maxPrice },\n    };\n  }\n  //Product List sayfasında  grid_view değerine göre listeleme şekli düzenleniyor.\n  /* Bunu aşağıda bulunan iki fonksiyon sağlıyor \n\n  */\n  if (action.type === \"SET_LISTVIEW\") {\n    //Eğer kullanıcı listele butonuna basarsa bu fonskiyon çalışacak.\n    //Product List sayfasında  grid_view değerine göre listeleme şekli düzenleniyor.\n    return {\n      ...state,\n      grid_view: false,\n    };\n  }\n\n  if (action.type === \"SET_GRIDVIEW\") {\n    //Eğer kullanıcı grid olarak göster butonuna basarsa bu fonksiyon çalışcak.\n    return {\n      ...state,\n      grid_view: true,\n    };\n  }\n\n  if (action.type === \"UPDATE_SORT\") {\n    //console.log(\"değer\")\n    //console.log(action.payload)\n    /*Burada kullanıcının seçtiği değeri alıyoruz.\nconst updateSort=(e)=>{} fonksiyonundan gelen değeri burada atıyoruz\nsort hookuna aktarıyoruz.\n    */\n    return {\n      ...state,\n      sort: action.payload,\n    };\n  }\n\n  if (action.type === SORT_PRODUCTS) {\n    /*Burda   if(action.type==='UPDATE_SORT'){} kısmında sort değişkenine atanan değere göre \n    Listede bulunan elemanlara\n          sıralama yapılmasını sağlıyoruz.\n\n    */\n\n    const { sort, filtered_products } = state;\n    let tempProducts = [...filtered_products];\n    if (sort === \"price-lowest\") {\n      tempProducts = tempProducts.sort((a, b) => {\n        if (a.price < b.price) {\n          return -1;\n        }\n        if (a.price > b.price) {\n          return 1;\n        }\n        return 0;\n      });\n    }\n    if (sort === \"price-highest\") {\n      tempProducts = tempProducts.sort((a, b) => b.price - a.price);\n    }\n    if (sort === \"name-a\") {\n      tempProducts = tempProducts.sort((a, b) => {\n        return a.name.localeCompare(b.name);\n      });\n    }\n    if (sort === \"name-z\") {\n      tempProducts = tempProducts.sort((a, b) => {\n        return b.name.localeCompare(a.name);\n      });\n    }\n    return { ...state, filtered_products: tempProducts };\n  }\n\n  return state;\n  throw new Error(`No Matching \"${action.type}\" - action type`);\n};\n\nexport default filter_reducer;\n"]},"metadata":{},"sourceType":"module"}